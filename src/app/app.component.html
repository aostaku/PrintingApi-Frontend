<div class="w-full mt-4 flex justify-content-center">
  <img
    src="assets/logo_147x24.svg"
    class="axess-webstore-logo"
    alt="Axess AG Logo"
  />
</div>
<div class="container mt-6">
  @if(!allReceipts() || loading()){
  <p-progressSpinner
    styleClass="w-4rem h-4rem"
    strokeWidth="8"
    fill="var(--surface-ground)"
    animationDuration=".5s"
  ></p-progressSpinner>
  }@else{
  <p-card [header]="'Invoices'" [style]="{ width: '100%', height: '100%' }">
    <p-table
      [value]="allReceipts() ?? []"
      [tableStyle]="{ 'min-width': '50rem' }"
    >
      <ng-template pTemplate="header">
        <tr>
          <th>Company</th>
          <th>Street Address</th>
          <th>City Zip Code</th>
          <th>Website</th>
          <th>Date</th>
          <th>Product</th>
          <th>Price</th>
          <th>Actions</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-product>
        <tr>
          <td>{{ product.company }}</td>
          <td>{{ product.streetAddress }}</td>
          <td>{{ product.cityZipCode }}</td>
          <td>{{ product.website }}</td>
          <td>{{ product.dateTime }}</td>
          <td>{{ product.productName }}</td>
          <td>{{ product.price }}</td>
          <td>
            <p-button
              icon="pi pi-print"
              (onClick)="printReceipt(product.id)"
              tooltip="Print Receipt"
              tooltipPosition="top"
            ></p-button>
          </td>
        </tr>
      </ng-template>
      <ng-template pTemplate="footer">
        <div class="flex gap-3 mt-4" [style]="{ width: '300px' }">
          <p-button (onClick)="newReceipt()">Add new receipt</p-button>
        </div>
      </ng-template>
    </p-table>
  </p-card>
  }
</div>
<app-receipts></app-receipts>
